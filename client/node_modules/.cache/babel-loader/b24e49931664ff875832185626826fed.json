{"ast":null,"code":"import _defineProperty from \"C:/Users/lsoni/Downloads/Telegram Desktop/DevArena-main/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"C:/Users/lsoni/Downloads/Telegram Desktop/DevArena-main/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/lsoni/Downloads/Telegram Desktop/DevArena-main/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/lsoni/Downloads/Telegram Desktop/DevArena-main/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/lsoni/Downloads/Telegram Desktop/DevArena-main/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\lsoni\\\\Downloads\\\\Telegram Desktop\\\\DevArena-main\\\\client\\\\src\\\\components\\\\post\\\\CommentForm.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\nimport { addComment } from '../../actions/postActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar CommentForm = /*#__PURE__*/function (_Component) {\n  _inherits(CommentForm, _Component);\n  var _super = _createSuper(CommentForm);\n  function CommentForm(props) {\n    var _this;\n    _classCallCheck(this, CommentForm);\n    _this = _super.call(this, props);\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var user = _this.props.auth.user;\n      var postId = _this.props.postId;\n      var newComment = {\n        text: _this.state.text,\n        name: user.name,\n        avatar: user.avatar\n      };\n      _this.props.addComment(postId, newComment);\n      _this.setState({\n        text: ''\n      });\n    };\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n    _this.state = {\n      text: '',\n      errors: {}\n    };\n    return _this;\n  }\n  _createClass(CommentForm, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(newProps) {\n      if (newProps.errors) {\n        this.setState({\n          errors: newProps.errors\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var errors = this.state.errors;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-form mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header bg-info text-white\",\n            children: \"Make a comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.onSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(TextAreaFieldGroup, {\n                  placeholder: \"Type a reply here...\",\n                  onChange: this.onChange,\n                  value: this.state.text,\n                  name: \"text\",\n                  error: errors.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-outline-success\",\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n  return CommentForm;\n}(Component);\nCommentForm.propTypes = {\n  addPost: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  postId: PropTypes.string.isRequired,\n  errors: PropTypes.object.isRequired\n};\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\nexport default connect(mapStateToProps, {\n  addComment: addComment\n})(CommentForm);","map":{"version":3,"names":["React","Component","PropTypes","connect","TextAreaFieldGroup","addComment","CommentForm","props","onSubmit","e","preventDefault","user","auth","postId","newComment","text","state","name","avatar","setState","onChange","target","value","errors","newProps","propTypes","addPost","func","isRequired","object","string","mapStateToProps"],"sources":["C:/Users/lsoni/Downloads/Telegram Desktop/DevArena-main/client/src/components/post/CommentForm.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\nimport { addComment } from '../../actions/postActions';\n\nclass CommentForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            text: '',\n            errors: {}\n        };\n    }\n\n    UNSAFE_componentWillReceiveProps(newProps) {\n        if (newProps.errors) {\n            this.setState({ errors: newProps.errors });\n        }\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n\n        const { user } = this.props.auth;\n        const { postId } = this.props;\n\n        const newComment = {\n            text: this.state.text,\n            name: user.name,\n            avatar: user.avatar\n        };\n\n        this.props.addComment(postId, newComment);\n        this.setState({ text: '' });\n    };\n\n    onChange = e => {\n        this.setState({ [e.target.name]: e.target.value });\n    };\n\n    render() {\n        const { errors } = this.state;\n\n        return (\n            <div className=\"post-form mb-3\">\n                <div className=\"card card-info\">\n                    <div className=\"card-header bg-info text-white\">Make a comment</div>\n                    <div className=\"card-body\">\n                        <form onSubmit={this.onSubmit}>\n                            <div className=\"form-group\">\n                                <TextAreaFieldGroup\n                                    placeholder=\"Type a reply here...\"\n                                    onChange={this.onChange}\n                                    value={this.state.text}\n                                    name=\"text\"\n                                    error={errors.text}\n                                />\n                            </div>\n                            <button type=\"submit\" className=\"btn btn-outline-success\">\n                                Submit\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nCommentForm.propTypes = {\n    addPost: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    postId: PropTypes.string.isRequired,\n    errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n});\n\nexport default connect(\n    mapStateToProps,\n    { addComment }\n)(CommentForm);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}